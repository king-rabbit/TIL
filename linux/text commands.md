# 텍스트 처리

## wc 명령어

- 바이트 수, 단어 수, 행 수를 출력하는 명령어
- 행 수, 단어 수, 바이트 수, 파일 이름 순으로 출력

```bash
$ wc /etc/passwd
**$ wc -l /etc/passwd <- 행 수 표시**
$ wc -w /etc/passwd <- 단어 수 표시
$ wc -c /etc/passwd <- 바이트 수 표시
$ ls / | wc -l <- 루트 디렉터리에 파일과 디렉터리가 몇 개 있는지 파악
$ ls / | wc -l - <- 입력 파일로 -를 지정해 표준 입력을 사용하도록 함. 
```

## sort 명령어

- 행 단위로 정렬해 겨로가를 출력하는 명령어.
- 아무 옵션을 지정하지 않으면 알파벳순으로 정렬

```bash
$ sort file1 <- file1을 알파벳순으로 정렬
$ ps x | sort -k 5 <- 프로세스를 command(다섯번째 필드) 필드 순으로 정렬
```

- -k + 숫자 옵션 : 숫자 번째 필드를 기준으로 정렬
- -n : 문자열을 숫자 값으로 인식하고 정렬
- -r : 역순으로 정렬
- -rn : 숫자 내림차순 정렬

```bash
$ sort -r file1 <- file1을 알파벳 역순(내림차순)으로 정렬
```

## uniq 명령어

- 연속된 중복 데이터를 하나만 출력
- 같은 내용이 연속되지 않은 경우에는 없애지 않음.

```bash
$ uniq file2 <- 중복된 행을 하나로 줄임
```

- sort → uniq 명령어로 파일 전체의 중복을 없앨 수 있음.
- 또는 -u 옵션 지정해 중복 제거

```bash
$ sort file3 | uniq
$ sort -u file3
```

- -c 옵션 : 중복된 데이터의 개수 알려줌

```bash
$ sort file2 | uniq -c
$ sort file2 | uniq -c | sort -rn <- uniq -c의 결과를 정렬해 중복이 많은 순으로 출력
```

## cut 명령어

- 입력의 일부를 추출해 출력하는 명령어
- cut -d <구분자> -f <필드 번호> [<파일 이름>]

```bash
$ cut -d , -f 3 file.csv <- ','를 기준으로 분할해 3번째 필드만 출력
```

- d로 구분자를 지정하지 않으면 기본으로 탭이 사용됨

## tr 명령어

- 문자를 치환하는 명열어

```bash
$ cat /etc/passwd | tr : , <- ':'를 ','로 치환
$ cat /etc/passwd | tr abc ABC <- a를 A, b를 B, c를 C로 치환
$ cat /etc/passwd | tr a-z A-Z <- 소문자를 대문자로 치환
```

- -d 옵션으로 특정 문자를 삭제할 수 있음

```bash
$ cat /etc/passwd | tr -d "/n" <- 개행문자 제거
```

## tail 명령어

- 파일의 마지막 부분을 출력. head와 반대되는 명령어.
- 옵션을 지정하지 않으면 마지막 10행을 출력함
- -n 옵션으로 출력할 행 수를 지정

```bash
$ tail -n 1 /etc/passwd <- 마지막 한 행을 출력
```

- -f 옵션으로 실시간 내용 출력해 파일 모니터링

```bash
$ tail -f output.log <- 파일 내용 실시간 모니터링 ( 모니터링 상태에서 벗어나려면 Ctrl + C 입력 )
```

## diff 명령어

- 두 파일의 차이 출력하기
- diff [옵션] <비교 파일1> <비교 파일2>

```bash
$ diff .bashrc.org .bashrc
```

- 명령어 실행 결과 첫 줄에는 비교 파일에서 어떤 변화가 있었는지를 나타내는 요약 변경이 출력됨.
    - <범위1>a<범위2> : 첫번째 파일의 범위 1 행 뒤에 두번째 파일의 범위 2 내용이 추가됨
    - <범위1>c<범위2> : 첫번째 파일의 범위 1 행 부분이 두 번째 파일의 범위 2 내용으로 변경됨
    - <범위1>d<범위2> : 첫번째 파일의 범위 1 행 부분이 삭제됨
- 최근에는 통일 포맷으로 diff 내용을 많이 확인하고 있음.
    - -u 옵션으로 통일 포맷 사용

```bash
$ diff -u .bashrc.org .bashrc
```