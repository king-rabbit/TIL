# shell script

## 셸 스크립트

- 실행할 커맨드 라인을 입력해 높은 파일.

### sh vs. bash

- sh는 긴 역사를 가졌지만 기능이 다소 적음. 단 과거에는 sh 기반 셸 스크립트가 많이 작성되었기 때문에 호환성, 이식성 측면에서는 sh에 장점이 있음.
- CentOS 등 레드햇 계열 배포판에서는 sh는 bash의 별명. sh 명령어를 실행하면 sh모드로 동작하기는 함.
- 우분투 등 데비안 계열에서는 sh가 bash를 사용하고 있음.
    - 즉, sh의 실체가 배포판에 따라 다르고 동작도 다른 것.
- 반면 bash는 어떤 운영체제에서도 동일하게 동작함. 최근 리눅스에서는 bash가 거의 기본으로 설치됨.
- bash는 풍부한 기능이 강점.

## 셸 스크립트 작성

```bash
$ du -h ~ | tail -n 1 <- 홈 디렉터리의 파일 사용량을 출력
$ vim homesize.sh <- 셸 스크립트 작성
```

```bash
#!/bin/bash <- 셔뱅(shebang)
du -h ~ | tail -n 1
```

```bash
$ chmod +x homesize.sh <- 실행 권한 부여
$ ./homesize.sh <- 셸 스크립트 실행
```

- 스크립트 실행 시 파일 이름 앞에 ./를 반드시 붙여야 함(현재 디렉터리 의미)

## 셸 스크립트 실행 형식

### 셔뱅

- 셸 스크립트의 첫 행으로 **#!**로 시작
- #!/bin/bash 라고 입력하는 경우 리눅스 커널은 이 스크립트가 /bin/bash를 사용한다는 것으로 이해함.
- 즉, ./homesize.sh 실행을 셸에서 지시한 것이 /bin/bash ./homesize.sh 처럼 해석되어 실행됨.
- 배시를 표시한 셔뱅이 있으면 사용 중인 셸이 배시가 아니어도 /bin/bash가 스크립트를 실행함.
- 셸에서는 #로 시작하는 행을 주석으로 간주. 셔뱅도 주석으로 간주됨.

##